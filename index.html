<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Love Letter Mode</title>
<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: serif;
        background: #ffeef2;
        transition: background 0.6s;
    }

    /* Christmas mode background */
    body.christmas {
        background: url('Love Letter2 .jpg') center/cover no-repeat;
    }

    #letter {
        width: 80%;
        max-width: 500px;
        padding: 25px;
        background: white;
        border-radius: 15px;
        margin: 60px auto;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        position: relative;
        z-index: 10;
        transition: 0.6s;
    }

    /* Christmas letter */
    body.christmas #letter {
        background: url('Love Letter2 .jpg') center/cover no-repeat;
        color: #00380c;
        font-weight: bold;
    }

    .falling-item {
        position: fixed;
        top: -50px;
        font-size: 28px;
        pointer-events: none;
        animation: fall linear infinite;
    }

    @keyframes fall {
        0% { transform: translateY(-50px); opacity: 1; }
        100% { transform: translateY(110vh); opacity: 0; }
    }

    #toggleMode {
        position: fixed;
        right: 20px;
        top: 20px;
        padding: 10px 20px;
        background: #ff4d6d;
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 16px;
        cursor: pointer;
        z-index: 50;
    }

    body.christmas #toggleMode {
        background: green;
    }
</style>
</head>
<body>

<button id="toggleMode">Mode Gi√°ng Sinh</button>
<audio id="bgm" loop autoplay src="Love Letter2 .mp3"></audio>

<div id="letter">
    <h2>G·ª≠i Em</h2>
    <p>ƒê√¢y s·∫Ω l√† n·ªôi dung b·ª©c th∆∞ c≈© ho·∫∑c n·ªôi dung m·ªõi b·∫°n mu·ªën thay...</p>
</div>

<script>
let isChristmas = false;
const audio = document.getElementById('bgm');
const btn = document.getElementById('toggleMode');

btn.addEventListener('click', () => {
    isChristmas = !isChristmas;
    document.body.classList.toggle('christmas');

    // Change music
    audio.src = isChristmas ? "Love Letter2 .mp3" : "music.mp3";
    audio.play();

    // Update falling items
    document.querySelectorAll('.falling-item').forEach(e => e.remove());
    spawnFallingItems();

    btn.textContent = isChristmas ? "Mode Th∆∞·ªùng" : "Mode Gi√°ng Sinh";
});

function spawnFallingItems() {
    setInterval(() => {
        const item = document.createElement('div');
        item.className = 'falling-item';
        item.style.left = Math.random() * 100 + 'vw';

        if (isChristmas) {
            const icons = ['üéÅ','üéÑ'];
            item.textContent = icons[Math.floor(Math.random()*icons.length)];
        } else {
            const icons = ['üíñ','üå∏'];
            item.textContent = icons[Math.floor(Math.random()*icons.length)];
        }

        item.style.animationDuration = (3 + Math.random()*4) + 's';
        document.body.appendChild(item);

        setTimeout(()=> item.remove(), 7000);
    }, 500);
}

spawnFallingItems();
</script>
</body>
</html>
